{"ast":null,"code":"import _defineProperty from\"/home/supersis03/Projects/Dextera/dextera-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/supersis03/Projects/Dextera/dextera-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/supersis03/Projects/Dextera/dextera-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/** @format */import React,{Fragment,useState,useEffect}from\"react\";import axios from\"axios\";import{Button,Box,List,ListItem,ListItemText,Typography,Dialog,DialogActions,DialogContent,DialogTitle,DialogContentText,TextField}from\"@mui/material\";import ClearIcon from\"@mui/icons-material/Clear\";import ActionAlerts from\"../../utils/ActionAlerts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CONFIG={headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\"}};var catHandler=function catHandler(id){console.log(id);};var Category=function Category(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),category=_useState2[0],setCategory=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),status=_useState8[0],setStatus=_useState8[1];var _useState9=useState({name:\"\"}),_useState10=_slicedToArray(_useState9,2),formData=_useState10[0],setFormData=_useState10[1];var name=formData.name;var _onChange=function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),open=_useState12[0],setOpen=_useState12[1];var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var FetchData=function FetchData(){axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/category/\"),CONFIG).then(function(res){console.log(res.data);setLoading(false);setStatus(res.statusText);setCategory(res.data);}).catch(function(err){console.log(err);setLoading(false);setError(err.message);});};useEffect(function(){FetchData();},[]);var handleDelete=function handleDelete(id){axios.delete(\"\".concat(process.env.REACT_APP_API_URL,\"/api/category/\").concat(id,\"/\"),CONFIG).then(function(res){FetchData();return/*#__PURE__*/_jsx(ActionAlerts,{value:{status:res.statusText,message:\"Success\"}});});};var handleSubmit=function handleSubmit(e){e.preventDefault();var body=JSON.stringify({name:name});axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/category/\"),body,CONFIG).then(function(res){FetchData();return/*#__PURE__*/_jsx(ActionAlerts,{value:{status:res.statusText,message:\"Success\"}});}).catch(function(err){FetchData();return/*#__PURE__*/_jsx(ActionAlerts,{value:{status:err.statusText,message:\"Success\"}});});};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleClickOpen,fullWidth:true,sx:{borderRadius:\"0.5rem\"},children:\"+ New category\"}),/*#__PURE__*/_jsxs(Dialog,{component:\"form\",Validate:true,onSubmit:function onSubmit(e){return handleSubmit(e);},open:open,onClose:handleClose,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title\",children:\"Add New Category\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,size:\"small\",margin:\"normal\",variant:\"outlined\",name:\"name\",label:\"Category Name\",type:\"text\",value:name,onChange:function onChange(e){return _onChange(e);},id:\"name\",autoComplete:\"name\"})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",autoFocus:true,children:\"Add\"})]})]}),!loading?category.map(function(data){return/*#__PURE__*/_jsx(Box,{mt:1,children:/*#__PURE__*/_jsx(List,{children:/*#__PURE__*/_jsxs(ListItem,{disablePadding:true,children:[/*#__PURE__*/_jsx(ListItemText,{children:data.name}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",value:data.id,onClick:function onClick(){return handleDelete(data.id);},sx:{borderRadius:\"0.5rem\",float:\"right\"},children:/*#__PURE__*/_jsx(ClearIcon,{})})]})})});}):/*#__PURE__*/_jsx(Typography,{children:\"Loading ...\"})]});};export default Category;","map":{"version":3,"sources":["/home/supersis03/Projects/Dextera/dextera-project/frontend/src/components/Category/Category.jsx"],"names":["React","Fragment","useState","useEffect","axios","Button","Box","List","ListItem","ListItemText","Typography","Dialog","DialogActions","DialogContent","DialogTitle","DialogContentText","TextField","ClearIcon","ActionAlerts","CONFIG","headers","Accept","catHandler","id","console","log","Category","category","setCategory","loading","setLoading","error","setError","status","setStatus","name","formData","setFormData","onChange","e","target","value","open","setOpen","handleClickOpen","handleClose","FetchData","get","process","env","REACT_APP_API_URL","then","res","data","statusText","catch","err","message","handleDelete","delete","handleSubmit","preventDefault","body","JSON","stringify","post","borderRadius","map","float"],"mappings":"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","sourcesContent":["/** @format */\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport {\n  Button,\n  Box,\n  List,\n  ListItem,\n  ListItemText,\n  Typography,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  DialogContentText,\n  TextField,\n} from \"@mui/material\";\n\nimport ClearIcon from \"@mui/icons-material/Clear\";\nimport ActionAlerts from \"../../utils/ActionAlerts\";\n\nconst CONFIG = {\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Accept: \"application/json\",\n  },\n};\n\nconst catHandler = (id) => {\n  console.log(id);\n};\n\nconst Category = () => {\n  const [category, setCategory] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n  const [formData, setFormData] = useState({\n    name: \"\",\n  });\n\n  const { name } = formData;\n\n  const onChange = (e) =>\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const FetchData = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/category/`, CONFIG)\n      .then((res) => {\n        console.log(res.data);\n        setLoading(false);\n        setStatus(res.statusText);\n        setCategory(res.data);\n      })\n      .catch((err) => {\n        console.log(err);\n        setLoading(false);\n        setError(err.message);\n      });\n  };\n  useEffect(() => {\n    FetchData();\n  }, []);\n  const handleDelete = (id) => {\n    axios\n      .delete(`${process.env.REACT_APP_API_URL}/api/category/${id}/`, CONFIG)\n      .then((res) => {\n        FetchData();\n        return (\n          <ActionAlerts\n            value={{ status: res.statusText, message: \"Success\" }}\n          />\n        );\n      });\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const body = JSON.stringify({ name });\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/api/category/`, body, CONFIG)\n      .then((res) => {\n        FetchData();\n        return (\n          <ActionAlerts\n            value={{ status: res.statusText, message: \"Success\" }}\n          />\n        );\n      })\n      .catch((err) => {\n        FetchData();\n        return (\n          <ActionAlerts\n            value={{ status: err.statusText, message: \"Success\" }}\n          />\n        );\n      });\n  };\n  return (\n    <Fragment>\n      <Button\n        variant=\"contained\"\n        onClick={handleClickOpen}\n        fullWidth\n        sx={{\n          borderRadius: \"0.5rem\",\n        }}\n      >\n        + New category\n      </Button>\n      <Dialog\n        component=\"form\"\n        Validate\n        onSubmit={(e) => handleSubmit(e)}\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{\"Add New Category\"}</DialogTitle>\n        <DialogContent>\n          <TextField\n            required\n            fullWidth\n            size=\"small\"\n            margin=\"normal\"\n            variant=\"outlined\"\n            name=\"name\"\n            label=\"Category Name\"\n            type=\"text\"\n            value={name}\n            onChange={(e) => onChange(e)}\n            id=\"name\"\n            autoComplete=\"name\"\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose}>Close</Button>\n          <Button type=\"submit\" autoFocus>\n            Add\n          </Button>\n        </DialogActions>\n      </Dialog>\n      {!loading ? (\n        category.map((data) => (\n          <Box mt={1}>\n            <List>\n              <ListItem disablePadding>\n                <ListItemText>{data.name}</ListItemText>\n                <Button\n                  variant=\"contained\"\n                  value={data.id}\n                  onClick={() => handleDelete(data.id)}\n                  sx={{\n                    borderRadius: \"0.5rem\",\n                    float: \"right\",\n                  }}\n                >\n                  <ClearIcon />\n                </Button>\n              </ListItem>\n            </List>\n          </Box>\n        ))\n      ) : (\n        <Typography>Loading ...</Typography>\n      )}\n    </Fragment>\n  );\n};\n\nexport default Category;\n"]},"metadata":{},"sourceType":"module"}