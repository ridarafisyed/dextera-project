{"ast":null,"code":"import axios from 'axios';\nimport { ROLE_SUCCESS, ROLE_FAIL, ROLE_LOADED_SUCCESS, ROLE_LOADED_FAIL } from './types'; // get the list of roles by user email\n\nexport const get_role = username => async dispatch => {\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  const body = JSON.stringify({\n    username\n  });\n\n  try {\n    const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/roles/`, body, config);\n    dispatch({\n      type: ROLE_LOADED_SUCCESS,\n      payload: res.data\n    }); // dispatch(load_user());\n  } catch (err) {\n    dispatch({\n      type: ROLE_LOADED_FAIL\n    });\n  }\n}; //  setting roles at the time of registeration, or upgrading account \n\nexport const create_role = (username, is_firm, is_lawyer, is_client) => async dispatch => {\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  const body = JSON.stringify({\n    username,\n    is_firm,\n    is_lawyer,\n    is_client\n  });\n\n  try {\n    const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/roles/`, body, config);\n    dispatch({\n      type: ROLE_SUCCESS,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: ROLE_FAIL\n    });\n  }\n};","map":{"version":3,"sources":["/home/supersis03/Projects/dextera-project/frontend/src/actions/role.js"],"names":["axios","ROLE_SUCCESS","ROLE_FAIL","ROLE_LOADED_SUCCESS","ROLE_LOADED_FAIL","get_role","username","dispatch","config","headers","body","JSON","stringify","res","post","process","env","REACT_APP_API_URL","type","payload","data","err","create_role","is_firm","is_lawyer","is_client"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACIC,YADJ,EAEIC,SAFJ,EAGIC,mBAHJ,EAIIC,gBAJJ,QAKO,SALP,C,CAOA;;AACA,OAAO,MAAMC,QAAQ,GAAIC,QAAD,IAAc,MAAMC,QAAN,IAAkB;AACpD,QAAMC,MAAM,GAAG;AACXC,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX;AADE,GAAf;AAMA,QAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AAAEN,IAAAA;AAAF,GAAf,CAAb;;AAEA,MAAI;AACA,UAAMO,GAAG,GAAG,MAAMb,KAAK,CAACc,IAAN,CAAY,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,cAA5C,EAA2DP,IAA3D,EAAiEF,MAAjE,CAAlB;AAEAD,IAAAA,QAAQ,CAAC;AACLW,MAAAA,IAAI,EAAEf,mBADD;AAELgB,MAAAA,OAAO,EAAEN,GAAG,CAACO;AAFR,KAAD,CAAR,CAHA,CAQA;AACH,GATD,CASE,OAAOC,GAAP,EAAY;AACVd,IAAAA,QAAQ,CAAC;AACLW,MAAAA,IAAI,EAAEd;AADD,KAAD,CAAR;AAGH;AACJ,CAvBM,C,CAyBP;;AACA,OAAO,MAAMkB,WAAW,GAAG,CAAChB,QAAD,EAAWiB,OAAX,EAAoBC,SAApB,EAAgCC,SAAhC,KAA8C,MAAMlB,QAAN,IAAkB;AACvF,QAAMC,MAAM,GAAG;AACXC,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX;AADE,GAAf;AAMA,QAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AAACN,IAAAA,QAAD;AAAWiB,IAAAA,OAAX;AAAoBC,IAAAA,SAApB;AAA+BC,IAAAA;AAA/B,GAAf,CAAb;;AAEA,MAAI;AACA,UAAMZ,GAAG,GAAG,MAAMb,KAAK,CAACc,IAAN,CAAY,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,cAA5C,EAA2DP,IAA3D,EAAiEF,MAAjE,CAAlB;AACAD,IAAAA,QAAQ,CAAC;AACLW,MAAAA,IAAI,EAAEjB,YADD;AAELkB,MAAAA,OAAO,EAAEN,GAAG,CAACO;AAFR,KAAD,CAAR;AAIH,GAND,CAME,OAAOC,GAAP,EAAY;AACVd,IAAAA,QAAQ,CAAC;AACLW,MAAAA,IAAI,EAAEhB;AADD,KAAD,CAAR;AAGH;AACJ,CApBM","sourcesContent":["import axios from 'axios';\nimport {\n    ROLE_SUCCESS,\n    ROLE_FAIL,\n    ROLE_LOADED_SUCCESS,\n    ROLE_LOADED_FAIL\n} from './types';\n\n// get the list of roles by user email\nexport const get_role = (username) => async dispatch => {\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    };\n\n    const body = JSON.stringify({ username });\n\n    try {\n        const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/roles/`, body, config);\n        \n        dispatch({\n            type: ROLE_LOADED_SUCCESS,\n            payload: res.data\n        });\n\n        // dispatch(load_user());\n    } catch (err) {\n        dispatch({\n            type: ROLE_LOADED_FAIL\n        })\n    }\n};\n\n//  setting roles at the time of registeration, or upgrading account \nexport const create_role = (username, is_firm, is_lawyer,  is_client) => async dispatch => {\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    };\n\n    const body = JSON.stringify({username, is_firm, is_lawyer, is_client});\n   \n    try {\n        const res = await axios.post(`${process.env.REACT_APP_API_URL}/auth/roles/`, body, config);\n        dispatch({\n            type: ROLE_SUCCESS,\n            payload: res.data \n        });\n    } catch (err) {\n        dispatch({\n            type: ROLE_FAIL\n        })\n    }\n}"]},"metadata":{},"sourceType":"module"}