{"ast":null,"code":"import _defineProperty from\"/home/supersis03/Projects/Dextera/dextera-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/supersis03/Projects/Dextera/dextera-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/supersis03/Projects/Dextera/dextera-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/** @format */import React,{Fragment,useEffect,useState}from\"react\";import{TextField,Switch,FormControl,Select,MenuItem,InputLabel,FormControlLabel,Box,Grid,Button,Typography}from\"@mui/material\";import{LocalizationProvider,DatePicker}from\"@mui/lab\";import AdapterDateFns from\"@mui/lab/AdapterDateFns\";import axios from\"axios\";import SaveIcon from\"@mui/icons-material/Save\";import{useToggle}from\"../../context/useToggle\";import{CONFIG}from\"../../api/MatterApi\";import{ActionAlerts,GetDate}from\"../../utils/ActionAlerts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateTask=function CreateTask(){var _useState=useState(new Date(\"2021-12-01T21:11:54\")),_useState2=_slicedToArray(_useState,2),dueDate=_useState2[0],setDueDate=_useState2[1];var _useToggle=useToggle(true),_useToggle2=_slicedToArray(_useToggle,2),bill=_useToggle2[0],setBill=_useToggle2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),matterData=_useState4[0],setMatterData=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useToggle3=useToggle(true),_useToggle4=_slicedToArray(_useToggle3,2),isPrivate=_useToggle4[0],setIsPrivate=_useToggle4[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),file=_useState8[0],setFile=_useState8[1];var _useState9=useState({matter_id:0,matter_contact:0,matter:\"\",task:\"\",filename:\"\",assign_to:0,detail:\"\"}),_useState10=_slicedToArray(_useState9,2),taskData=_useState10[0],setTaskData=_useState10[1];var matter_id=taskData.matter_id,matter_contact=taskData.matter_contact,matter=taskData.matter,task=taskData.task,filename=taskData.filename,assign_to=taskData.assign_to,detail=taskData.detail;var _onChange=function onChange(e){return setTaskData(_objectSpread(_objectSpread({},taskData),{},_defineProperty({},e.target.name,e.target.value)));};var FetchData=function FetchData(){axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/matter/\"),CONFIG).then(function(res){setLoading(false);setMatterData(res.data);}).catch(function(err){setLoading(false);});};useEffect(function(){FetchData();},[]);var _onSubmit=function onSubmit(e){e.preventDefault();console.log(matter_id,matter_contact,matter,task);var due_at=GetDate(dueDate);var is_billable=bill;var is_private=isPrivate;var body=JSON.stringify({matter_id:matter_id,matter_contact:matter_contact,matter:matter,task:task,file:file,is_billable:is_billable,is_private:is_private,due_at:due_at,assign_to:assign_to,detail:detail});axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/new-task/\"),body,CONFIG).then(function(res){/*#__PURE__*/_jsx(ActionAlerts,{value:{status:res.statusText,message:\"Success\"}});}).catch(function(err){/*#__PURE__*/_jsx(ActionAlerts,{value:{status:err.statusText,message:\"Failed\"}});});console.log(body);};return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(Box,{component:\"form\",Validate:true,sx:{\"& .MuiTextField-root\":{m:1},\"& .MuiSelect-root\":{m:1}},onSubmit:function onSubmit(e){return _onSubmit(e);},children:[/*#__PURE__*/_jsx(Typography,{component:\"h3\",variant:\"h4\",children:\"Create New Task\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,p:2,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:6,children:[/*#__PURE__*/_jsx(TextField,{size:\"small\",margin:\"normal\",variant:\"outlined\",name:\"matter_id\",label:\"matter_id\",type:\"number\",min:\"0\",value:matter_id,onChange:function onChange(e){return _onChange(e);},id:\"matter_id\"}),/*#__PURE__*/_jsx(TextField,{size:\"small\",margin:\"normal\",variant:\"outlined\",name:\"matter\",label:\"matter\",type:\"text\",min:\"0\",value:matter,onChange:function onChange(e){return _onChange(e);},id:\"matter\"}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,size:\"small\",margin:\"normal\",variant:\"outlined\",name:\"task\",label:\"Task\",type:\"text\",value:task,onChange:function onChange(e){return _onChange(e);},id:\"task\",autoComplete:\"task\"}),/*#__PURE__*/_jsxs(Box,{ml:2,mt:1,children:[/*#__PURE__*/_jsx(FormControlLabel,{fullWidth:true,size:\"large\",label:\"Attach File \",labelPlacement:\"start\",control:/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"filename\",id:\"file\",onChange:function onChange(e){return _onChange(e);}})}),/*#__PURE__*/_jsx(TextField,{size:\"small\",margin:\"normal\",variant:\"outlined\",name:\"file\",label:\"please chose any file\",type:\"text\",min:\"0\",value:filename,onChange:function onChange(e){return setFile(filename);},id:\"file\",disabled:true})]})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:6,children:[/*#__PURE__*/_jsx(TextField,{size:\"small\",margin:\"normal\",variant:\"outlined\",name:\"matter_contact\",label:\"matter_contact\",type:\"number\",min:\"0\",value:matter_contact,onChange:function onChange(e){return _onChange(e);},id:\"matter_contact\"}),/*#__PURE__*/_jsxs(Box,{p:1,children:[/*#__PURE__*/_jsx(FormControlLabel,{fullWidth:true,size:\"large\",label:\"Billable\",labelPlacement:\"start\",control:/*#__PURE__*/_jsx(Switch,{size:\"large\",checked:bill,onChange:function onChange(){return setBill(bill);}})}),/*#__PURE__*/_jsx(FormControlLabel,{fullWidth:true,size:\"large\",label:\"Private\",labelPlacement:\"start\",control:/*#__PURE__*/_jsx(Switch,{size:\"large\",checked:isPrivate,onChange:function onChange(){return setIsPrivate(isPrivate);}})})]}),/*#__PURE__*/_jsx(LocalizationProvider,{dateAdapter:AdapterDateFns,children:/*#__PURE__*/_jsx(DatePicker,{inputFormat:\"yyyy-MM-dd\",mask:\"____-__-__\",label:\"Due Date\",value:dueDate,name:\"dueDate\",id:\"dueDate\",onChange:function onChange(e){return setDueDate(e);},renderInput:function renderInput(params){return/*#__PURE__*/_jsx(TextField,_objectSpread({fullWidth:true,size:\"small\"},params));}})}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,size:\"small\",margin:\"normal\",variant:\"outlined\",name:\"assign_to\",label:\"Assign to\",type:\"number\",value:assign_to,onChange:function onChange(e){return _onChange(e);},id:\"assign_to\",autoComplete:\"assign_to\"})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,multiline:true,rows:5,size:\"small\",margin:\"normal\",variant:\"outlined\",name:\"detail\",label:\"Detail\",type:\"text\",value:detail,onChange:function onChange(e){return _onChange(e);},id:\"detail\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",type:\"submit\",sx:{float:\"right\"},endIcon:/*#__PURE__*/_jsx(SaveIcon,{}),children:\"Save\"})]})]})]})});};export default CreateTask;","map":{"version":3,"sources":["/home/supersis03/Projects/Dextera/dextera-project/frontend/src/components/Tasks/CreateTask.jsx"],"names":["React","Fragment","useEffect","useState","TextField","Switch","FormControl","Select","MenuItem","InputLabel","FormControlLabel","Box","Grid","Button","Typography","LocalizationProvider","DatePicker","AdapterDateFns","axios","SaveIcon","useToggle","CONFIG","ActionAlerts","GetDate","CreateTask","Date","dueDate","setDueDate","bill","setBill","matterData","setMatterData","loading","setLoading","isPrivate","setIsPrivate","file","setFile","matter_id","matter_contact","matter","task","filename","assign_to","detail","taskData","setTaskData","onChange","e","target","name","value","FetchData","get","process","env","REACT_APP_API_URL","then","res","data","catch","err","onSubmit","preventDefault","console","log","due_at","is_billable","is_private","body","JSON","stringify","post","status","statusText","message","m","params","float"],"mappings":"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","sourcesContent":["/** @format */\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport {\n  TextField,\n  Switch,\n  FormControl,\n  Select,\n  MenuItem,\n  InputLabel,\n  FormControlLabel,\n  Box,\n  Grid,\n  Button,\n  Typography,\n} from \"@mui/material\";\n\nimport { LocalizationProvider, DatePicker } from \"@mui/lab\";\nimport AdapterDateFns from \"@mui/lab/AdapterDateFns\";\nimport axios from \"axios\";\nimport SaveIcon from \"@mui/icons-material/Save\";\nimport { useToggle } from \"../../context/useToggle\";\nimport { CONFIG } from \"../../api/MatterApi\";\n\nimport { ActionAlerts, GetDate } from \"../../utils/ActionAlerts\";\n\nconst CreateTask = () => {\n  const [dueDate, setDueDate] = useState(new Date(\"2021-12-01T21:11:54\"));\n  const [bill, setBill] = useToggle(true);\n  const [matterData, setMatterData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [isPrivate, setIsPrivate] = useToggle(true);\n  const [file, setFile] = useState(\"\");\n  const [taskData, setTaskData] = useState({\n    matter_id: 0,\n    matter_contact: 0,\n    matter: \"\",\n    task: \"\",\n    filename: \"\",\n    assign_to: 0,\n    detail: \"\",\n  });\n\n  const {\n    matter_id,\n    matter_contact,\n    matter,\n    task,\n    filename,\n    assign_to,\n    detail,\n  } = taskData;\n\n  const onChange = (e) =>\n    setTaskData({ ...taskData, [e.target.name]: e.target.value });\n  const FetchData = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/matter/`, CONFIG)\n      .then((res) => {\n        setLoading(false);\n        setMatterData(res.data);\n      })\n      .catch((err) => {\n        setLoading(false);\n      });\n  };\n  useEffect(() => {\n    FetchData();\n  }, []);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    console.log(matter_id, matter_contact, matter, task);\n    let due_at = GetDate(dueDate);\n    let is_billable = bill;\n    let is_private = isPrivate;\n\n    const body = JSON.stringify({\n      matter_id,\n      matter_contact,\n      matter,\n      task,\n      file,\n      is_billable,\n      is_private,\n      due_at,\n      assign_to,\n      detail,\n    });\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/api/new-task/`, body, CONFIG)\n      .then((res) => {\n        <ActionAlerts value={{ status: res.statusText, message: \"Success\" }} />;\n      })\n      .catch((err) => {\n        <ActionAlerts value={{ status: err.statusText, message: \"Failed\" }} />;\n      });\n    console.log(body);\n  };\n  return (\n    <Fragment>\n      <Box\n        component=\"form\"\n        Validate\n        sx={{\n          \"& .MuiTextField-root\": { m: 1 },\n          \"& .MuiSelect-root\": { m: 1 },\n        }}\n        onSubmit={(e) => onSubmit(e)}\n      >\n        <Typography component=\"h3\" variant=\"h4\">\n          Create New Task\n        </Typography>\n        <Grid container spacing={2} p={2}>\n          <Grid item xs={6}>\n            <TextField\n              size=\"small\"\n              margin=\"normal\"\n              variant=\"outlined\"\n              name=\"matter_id\"\n              label=\"matter_id\"\n              type=\"number\"\n              min=\"0\"\n              value={matter_id}\n              onChange={(e) => onChange(e)}\n              id=\"matter_id\"\n            />\n            <TextField\n              size=\"small\"\n              margin=\"normal\"\n              variant=\"outlined\"\n              name=\"matter\"\n              label=\"matter\"\n              type=\"text\"\n              min=\"0\"\n              value={matter}\n              onChange={(e) => onChange(e)}\n              id=\"matter\"\n            />\n            <TextField\n              fullWidth\n              size=\"small\"\n              margin=\"normal\"\n              variant=\"outlined\"\n              name=\"task\"\n              label=\"Task\"\n              type=\"text\"\n              value={task}\n              onChange={(e) => onChange(e)}\n              id=\"task\"\n              autoComplete=\"task\"\n            />\n            <Box ml={2} mt={1}>\n              <FormControlLabel\n                fullWidth\n                size=\"large\"\n                label=\"Attach File \"\n                labelPlacement=\"start\"\n                control={\n                  <input\n                    type=\"file\"\n                    name=\"filename\"\n                    id=\"file\"\n                    onChange={(e) => onChange(e)}\n                  />\n                }\n              />\n              <TextField\n                size=\"small\"\n                margin=\"normal\"\n                variant=\"outlined\"\n                name=\"file\"\n                label=\"please chose any file\"\n                type=\"text\"\n                min=\"0\"\n                value={filename}\n                onChange={(e) => setFile(filename)}\n                id=\"file\"\n                disabled\n              />\n            </Box>\n          </Grid>\n          <Grid item xs={6}>\n            <TextField\n              size=\"small\"\n              margin=\"normal\"\n              variant=\"outlined\"\n              name=\"matter_contact\"\n              label=\"matter_contact\"\n              type=\"number\"\n              min=\"0\"\n              value={matter_contact}\n              onChange={(e) => onChange(e)}\n              id=\"matter_contact\"\n            />\n            <Box p={1}>\n              <FormControlLabel\n                fullWidth\n                size=\"large\"\n                label=\"Billable\"\n                labelPlacement=\"start\"\n                control={\n                  <Switch\n                    size=\"large\"\n                    checked={bill}\n                    onChange={() => setBill(bill)}\n                  />\n                }\n              />\n              <FormControlLabel\n                fullWidth\n                size=\"large\"\n                label=\"Private\"\n                labelPlacement=\"start\"\n                control={\n                  <Switch\n                    size=\"large\"\n                    checked={isPrivate}\n                    onChange={() => setIsPrivate(isPrivate)}\n                  />\n                }\n              />\n            </Box>\n            <LocalizationProvider dateAdapter={AdapterDateFns}>\n              <DatePicker\n                inputFormat=\"yyyy-MM-dd\"\n                mask=\"____-__-__\"\n                label=\"Due Date\"\n                value={dueDate}\n                name=\"dueDate\"\n                id=\"dueDate\"\n                onChange={(e) => setDueDate(e)}\n                renderInput={(params) => (\n                  <TextField fullWidth size=\"small\" {...params} />\n                )}\n              />\n            </LocalizationProvider>\n\n            <TextField\n              fullWidth\n              size=\"small\"\n              margin=\"normal\"\n              variant=\"outlined\"\n              name=\"assign_to\"\n              label=\"Assign to\"\n              type=\"number\"\n              value={assign_to}\n              onChange={(e) => onChange(e)}\n              id=\"assign_to\"\n              autoComplete=\"assign_to\"\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              fullWidth\n              multiline\n              rows={5}\n              size=\"small\"\n              margin=\"normal\"\n              variant=\"outlined\"\n              name=\"detail\"\n              label=\"Detail\"\n              type=\"text\"\n              value={detail}\n              onChange={(e) => onChange(e)}\n              id=\"detail\"\n            />\n\n            <Button\n              variant=\"contained\"\n              type=\"submit\"\n              sx={{ float: \"right\" }}\n              endIcon={<SaveIcon />}\n            >\n              Save\n            </Button>\n          </Grid>\n        </Grid>\n      </Box>\n    </Fragment>\n  );\n};\n\nexport default CreateTask;\n"]},"metadata":{},"sourceType":"module"}