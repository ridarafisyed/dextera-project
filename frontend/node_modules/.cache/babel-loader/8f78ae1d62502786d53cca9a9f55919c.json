{"ast":null,"code":"var _jsxFileName = \"/home/supersis03/Projects/Dextera/dextera-project/frontend/src/components/User/UserRole.jsx\",\n    _s = $RefreshSig$();\n\n/** @format */\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Button, Box, List, Table, Grid, TableCell, TableContainer, TableHead, TableRow, TableBody, ListItem, ListItemText, Typography, Dialog, DialogActions, DialogContent, DialogTitle, TextField } from \"@mui/material\";\nimport ClearIcon from \"@mui/icons-material/Clear\";\nimport { ActionAlerts } from \"../../utils/ActionAlerts\";\nimport { LinkButton } from \"../../styles/styles\";\nimport { CONFIG } from \"../../api/MatterApi\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserRole = () => {\n  _s();\n\n  const [category, setCategory] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n  const [formData, setFormData] = useState({\n    name: \"\"\n  });\n  const {\n    name\n  } = formData;\n\n  const onChange = e => setFormData({ ...formData,\n    [e.target.name]: e.target.value\n  });\n\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const [userData, setUserData] = useState([]);\n  const [loadingUser, setLoadingUser] = useState(true);\n\n  const FetchUserData = () => {\n    axios.get(`${process.env.REACT_APP_API_URL}/api/create-member/`, CONFIG).then(res => {\n      setLoadingUser(false);\n      setUserData(res.data);\n    }).catch(err => {\n      setLoadingUser(false);\n    });\n  };\n\n  const FetchData = () => {\n    axios.get(`${process.env.REACT_APP_API_URL}/api/roles/`, CONFIG).then(res => {\n      console.log(res.data);\n      setLoading(false);\n      setStatus(res.statusText);\n      setCategory(res.data);\n    }).catch(err => {\n      console.log(err);\n      setLoading(false);\n      setError(err.message);\n    });\n  };\n\n  useEffect(() => {\n    FetchData();\n    FetchUserData();\n  }, []);\n\n  const handleDelete = id => {\n    axios.delete(`${process.env.REACT_APP_API_URL}/api/roles/${id}/`, CONFIG).then(res => {\n      FetchData();\n      return /*#__PURE__*/_jsxDEV(ActionAlerts, {\n        value: {\n          status: res.statusText,\n          message: \"Success\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this);\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const body = JSON.stringify({\n      name\n    });\n    axios.post(`${process.env.REACT_APP_API_URL}/api/roles/`, body, CONFIG).then(res => {\n      FetchData();\n      return /*#__PURE__*/_jsxDEV(ActionAlerts, {\n        value: {\n          status: res.statusText,\n          message: \"Success\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this);\n    }).catch(err => {\n      FetchData();\n      return /*#__PURE__*/_jsxDEV(ActionAlerts, {\n        value: {\n          status: err.statusText,\n          message: \"Success\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          p: 3,\n          sx: {\n            float: \"right\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(LinkButton, {\n            to: \"/users\",\n            children: \"Manage User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LinkButton, {\n            to: \"/create-user\",\n            children: \"Create User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(LinkButton, {\n            to: \"/user-group\",\n            children: \"Manage Group\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 3,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: handleClickOpen,\n          fullWidth: true,\n          sx: {\n            borderRadius: \"0.5rem\"\n          },\n          children: \"+ New Role\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n          component: \"form\",\n          Validate: true,\n          onSubmit: e => handleSubmit(e),\n          open: open,\n          onClose: handleClose,\n          \"aria-labelledby\": \"alert-dialog-title\",\n          \"aria-describedby\": \"alert-dialog-description\",\n          children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n            id: \"alert-dialog-title\",\n            children: \"Add New Role\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              required: true,\n              fullWidth: true,\n              size: \"small\",\n              margin: \"normal\",\n              variant: \"outlined\",\n              name: \"name\",\n              label: \"Role Name\",\n              type: \"text\",\n              value: name,\n              onChange: e => onChange(e),\n              id: \"name\",\n              autoComplete: \"name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleClose,\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              autoFocus: true,\n              children: \"Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), !loading ? category.map(data => /*#__PURE__*/_jsxDEV(Box, {\n          mt: 1,\n          children: /*#__PURE__*/_jsxDEV(List, {\n            children: /*#__PURE__*/_jsxDEV(ListItem, {\n              disablePadding: true,\n              children: [/*#__PURE__*/_jsxDEV(ListItemText, {\n                children: data.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                value: data.id,\n                onClick: () => handleDelete(data.id),\n                sx: {\n                  borderRadius: \"0.5rem\",\n                  float: \"right\"\n                },\n                children: /*#__PURE__*/_jsxDEV(ClearIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(Typography, {\n          children: \"Loading ...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 8,\n        children: /*#__PURE__*/_jsxDEV(TableContainer, {\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"First Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"Last Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"Role\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"Group\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n              children: loadingUser ? null : userData === null || userData === void 0 ? void 0 : userData.map(data => {\n                return /*#__PURE__*/_jsxDEV(TableRow, {\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    children: data.f_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: data.l_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: data.role\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 219,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: data.group\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 220,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserRole, \"tAzXDkcLVzo7ykT3dBxffUwNcEQ=\");\n\n_c = UserRole;\nexport default UserRole;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserRole\");","map":{"version":3,"sources":["/home/supersis03/Projects/Dextera/dextera-project/frontend/src/components/User/UserRole.jsx"],"names":["React","Fragment","useState","useEffect","axios","Button","Box","List","Table","Grid","TableCell","TableContainer","TableHead","TableRow","TableBody","ListItem","ListItemText","Typography","Dialog","DialogActions","DialogContent","DialogTitle","TextField","ClearIcon","ActionAlerts","LinkButton","CONFIG","UserRole","category","setCategory","loading","setLoading","error","setError","status","setStatus","formData","setFormData","name","onChange","e","target","value","open","setOpen","handleClickOpen","handleClose","userData","setUserData","loadingUser","setLoadingUser","FetchUserData","get","process","env","REACT_APP_API_URL","then","res","data","catch","err","FetchData","console","log","statusText","message","handleDelete","id","delete","handleSubmit","preventDefault","body","JSON","stringify","post","float","borderRadius","map","f_name","l_name","role","group"],"mappings":"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","sourcesContent":["/** @format */\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport {\n  Button,\n  Box,\n  List,\n  Table,\n  Grid,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TableBody,\n  ListItem,\n  ListItemText,\n  Typography,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  TextField,\n} from \"@mui/material\";\n\nimport ClearIcon from \"@mui/icons-material/Clear\";\nimport { ActionAlerts } from \"../../utils/ActionAlerts\";\nimport { LinkButton } from \"../../styles/styles\";\n\nimport { CONFIG } from \"../../api/MatterApi\";\n\nconst UserRole = () => {\n  const [category, setCategory] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n  const [formData, setFormData] = useState({\n    name: \"\",\n  });\n\n  const { name } = formData;\n\n  const onChange = (e) =>\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const [userData, setUserData] = useState([]);\n  const [loadingUser, setLoadingUser] = useState(true);\n  const FetchUserData = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/create-member/`, CONFIG)\n      .then((res) => {\n        setLoadingUser(false);\n\n        setUserData(res.data);\n      })\n      .catch((err) => {\n        setLoadingUser(false);\n      });\n  };\n  const FetchData = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/roles/`, CONFIG)\n      .then((res) => {\n        console.log(res.data);\n        setLoading(false);\n        setStatus(res.statusText);\n        setCategory(res.data);\n      })\n      .catch((err) => {\n        console.log(err);\n        setLoading(false);\n        setError(err.message);\n      });\n  };\n  useEffect(() => {\n    FetchData();\n    FetchUserData();\n  }, []);\n  const handleDelete = (id) => {\n    axios\n      .delete(`${process.env.REACT_APP_API_URL}/api/roles/${id}/`, CONFIG)\n      .then((res) => {\n        FetchData();\n        return (\n          <ActionAlerts\n            value={{ status: res.statusText, message: \"Success\" }}\n          />\n        );\n      });\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const body = JSON.stringify({ name });\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/api/roles/`, body, CONFIG)\n      .then((res) => {\n        FetchData();\n        return (\n          <ActionAlerts\n            value={{ status: res.statusText, message: \"Success\" }}\n          />\n        );\n      })\n      .catch((err) => {\n        FetchData();\n        return (\n          <ActionAlerts\n            value={{ status: err.statusText, message: \"Success\" }}\n          />\n        );\n      });\n  };\n  return (\n    <Fragment>\n      <Grid container>\n        <Grid item xs={12}>\n          <Box p={3} sx={{ float: \"right\" }}>\n            <LinkButton to=\"/users\">Manage User</LinkButton>\n            <LinkButton to=\"/create-user\">Create User</LinkButton>\n            <LinkButton to=\"/user-group\">Manage Group</LinkButton>\n          </Box>\n        </Grid>\n        <Grid item xs={3}>\n          <Button\n            variant=\"contained\"\n            onClick={handleClickOpen}\n            fullWidth\n            sx={{\n              borderRadius: \"0.5rem\",\n            }}\n          >\n            + New Role\n          </Button>\n          <Dialog\n            component=\"form\"\n            Validate\n            onSubmit={(e) => handleSubmit(e)}\n            open={open}\n            onClose={handleClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n          >\n            <DialogTitle id=\"alert-dialog-title\">{\"Add New Role\"}</DialogTitle>\n            <DialogContent>\n              <TextField\n                required\n                fullWidth\n                size=\"small\"\n                margin=\"normal\"\n                variant=\"outlined\"\n                name=\"name\"\n                label=\"Role Name\"\n                type=\"text\"\n                value={name}\n                onChange={(e) => onChange(e)}\n                id=\"name\"\n                autoComplete=\"name\"\n              />\n            </DialogContent>\n            <DialogActions>\n              <Button onClick={handleClose}>Close</Button>\n              <Button type=\"submit\" autoFocus>\n                Add\n              </Button>\n            </DialogActions>\n          </Dialog>\n          {!loading ? (\n            category.map((data) => (\n              <Box mt={1}>\n                <List>\n                  <ListItem disablePadding>\n                    <ListItemText>{data.name}</ListItemText>\n                    <Button\n                      variant=\"contained\"\n                      value={data.id}\n                      onClick={() => handleDelete(data.id)}\n                      sx={{\n                        borderRadius: \"0.5rem\",\n                        float: \"right\",\n                      }}\n                    >\n                      <ClearIcon />\n                    </Button>\n                  </ListItem>\n                </List>\n              </Box>\n            ))\n          ) : (\n            <Typography>Loading ...</Typography>\n          )}\n        </Grid>\n        <Grid item xs={8}>\n          <TableContainer>\n            <Table>\n              <TableHead>\n                <TableRow>\n                  <TableCell>First Name</TableCell>\n                  <TableCell>Last Name</TableCell>\n                  <TableCell>Role</TableCell>\n                  <TableCell>Group</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {loadingUser\n                  ? null\n                  : userData?.map((data) => {\n                      return (\n                        <TableRow>\n                          <TableCell>{data.f_name}</TableCell>\n                          <TableCell>{data.l_name}</TableCell>\n                          <TableCell>{data.role}</TableCell>\n                          <TableCell>{data.group}</TableCell>\n                        </TableRow>\n                      );\n                    })}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n};\n\nexport default UserRole;\n"]},"metadata":{},"sourceType":"module"}