{"ast":null,"code":"import _regeneratorRuntime from\"/home/supersis03/Projects/dextera-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/supersis03/Projects/dextera-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";/** @format */import axios from'axios';import{PROFILE_UPDATE_FAIL,PROFILE_UPDATE_SUCCESS,PROFILE_LOADED_SUCCESS,PROFILE_LOADED_FAIL,PROFILE_CREATED_FAIL,PROFILE_CREATED_SUCCESS}from'./types';export var create_profile=function create_profile(username,email){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var config,body,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:config={headers:{'Content-Type':'application/json',Accept:'application/json'}};body=JSON.stringify({username:username,email:email});_context.prev=2;_context.next=5;return axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/profile/\"),body,config);case 5:res=_context.sent;dispatch({type:PROFILE_CREATED_SUCCESS,payload:res.data});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);dispatch({type:PROFILE_CREATED_FAIL});case 12:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var get_profile=function get_profile(username){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var config,body,res,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config={headers:{'Content-Type':'application/json',Accept:'application/json'}};body=JSON.stringify({username:username});_context2.prev=2;_context2.next=5;return axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/profile/\"),body,config);case 5:res=_context2.sent;data=JSON.parse(res.data[0][0]);console.log('res.data load user :',data);dispatch({type:PROFILE_LOADED_SUCCESS,payload:data});_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](2);dispatch({type:PROFILE_LOADED_FAIL});case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[2,11]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var update_profile=function update_profile(username,email,mobile,phone,state,city,language,locate,search_active,law_school,grad_year,bar_admit_date,undergrad_school,undergrad_area,undergrad_year,bar_no,admitted_practice,practice_time,longest_tenure,average_tenure,current_tenure,past_bar_companies_no,primary_area){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var is_lawyer,config,body,res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:is_lawyer=false;config={headers:{'Content-Type':'application/json'}};body=JSON.stringify({username:username,email:email,mobile:mobile,phone:phone,state:state,city:city,language:language,locate:locate,search_active:search_active,law_school:law_school,grad_year:grad_year,bar_admit_date:bar_admit_date,undergrad_school:undergrad_school,undergrad_area:undergrad_area,undergrad_year:undergrad_year,bar_no:bar_no,admitted_practice:admitted_practice,practice_time:practice_time,longest_tenure:longest_tenure,average_tenure:average_tenure,current_tenure:current_tenure,past_bar_companies_no:past_bar_companies_no,primary_area:primary_area});_context3.prev=3;_context3.next=6;return axios.patch(\"\".concat(process.env.REACT_APP_API_URL,\"/api/profile/\"),body,config);case 6:res=_context3.sent;dispatch({type:PROFILE_UPDATE_SUCCESS,payload:res.data});_context3.next=13;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](3);dispatch({type:PROFILE_UPDATE_FAIL});case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[3,10]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};","map":{"version":3,"sources":["/home/supersis03/Projects/dextera-project/frontend/src/actions/profile.js"],"names":["axios","PROFILE_UPDATE_FAIL","PROFILE_UPDATE_SUCCESS","PROFILE_LOADED_SUCCESS","PROFILE_LOADED_FAIL","PROFILE_CREATED_FAIL","PROFILE_CREATED_SUCCESS","create_profile","username","email","dispatch","config","headers","Accept","body","JSON","stringify","post","process","env","REACT_APP_API_URL","res","type","payload","data","get_profile","get","parse","console","log","update_profile","mobile","phone","state","city","language","locate","search_active","law_school","grad_year","bar_admit_date","undergrad_school","undergrad_area","undergrad_year","bar_no","admitted_practice","practice_time","longest_tenure","average_tenure","current_tenure","past_bar_companies_no","primary_area","is_lawyer","patch"],"mappings":"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","sourcesContent":["/** @format */\n\nimport axios from 'axios';\nimport {\n  PROFILE_UPDATE_FAIL,\n  PROFILE_UPDATE_SUCCESS,\n  PROFILE_LOADED_SUCCESS,\n  PROFILE_LOADED_FAIL,\n  PROFILE_CREATED_FAIL,\n  PROFILE_CREATED_SUCCESS,\n} from './types';\n\nexport const create_profile = (username, email) => async (dispatch) => {\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      Accept: 'application/json',\n    },\n  };\n  const body = JSON.stringify({\n    username,\n    email,\n  });\n\n  try {\n    const res = await axios.post(\n      `${process.env.REACT_APP_API_URL}/api/profile/`,\n      body,\n      config,\n    );\n\n    dispatch({\n      type: PROFILE_CREATED_SUCCESS,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: PROFILE_CREATED_FAIL,\n    });\n  }\n};\n\nexport const get_profile = (username) => async (dispatch) => {\n  const config = {\n    headers: {\n      'Content-Type': 'application/json',\n      Accept: 'application/json',\n    },\n  };\n  const body = JSON.stringify({ username });\n\n  try {\n    const res = await axios.get(\n      `${process.env.REACT_APP_API_URL}/api/profile/`,\n      body,\n      config,\n    );\n    const data = JSON.parse(res.data[0][0]);\n    console.log('res.data load user :', data);\n    dispatch({\n      type: PROFILE_LOADED_SUCCESS,\n      payload: data,\n    });\n  } catch (err) {\n    dispatch({\n      type: PROFILE_LOADED_FAIL,\n    });\n  }\n};\n\nexport const update_profile =\n  (\n    username,\n    email,\n    mobile,\n    phone,\n    state,\n    city,\n    language,\n    locate,\n    search_active,\n    law_school,\n    grad_year,\n    bar_admit_date,\n    undergrad_school,\n    undergrad_area,\n    undergrad_year,\n    bar_no,\n    admitted_practice,\n    practice_time,\n    longest_tenure,\n    average_tenure,\n    current_tenure,\n    past_bar_companies_no,\n    primary_area,\n  ) =>\n  async (dispatch) => {\n    const is_lawyer = false;\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    };\n\n    const body = JSON.stringify({\n      username,\n      email,\n      mobile,\n      phone,\n      state,\n      city,\n      language,\n      locate,\n      search_active,\n      law_school,\n      grad_year,\n      bar_admit_date,\n      undergrad_school,\n      undergrad_area,\n      undergrad_year,\n      bar_no,\n      admitted_practice,\n      practice_time,\n      longest_tenure,\n      average_tenure,\n      current_tenure,\n      past_bar_companies_no,\n      primary_area,\n    });\n\n    try {\n      const res = await axios.patch(\n        `${process.env.REACT_APP_API_URL}/api/profile/`,\n        body,\n        config,\n      );\n      dispatch({\n        type: PROFILE_UPDATE_SUCCESS,\n        payload: res.data,\n      });\n    } catch (err) {\n      dispatch({\n        type: PROFILE_UPDATE_FAIL,\n      });\n    }\n  };\n"]},"metadata":{},"sourceType":"module"}