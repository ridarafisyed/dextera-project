{"ast":null,"code":"import _defineProperty from\"/home/supersis03/Projects/Dextera/dextera-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/supersis03/Projects/Dextera/dextera-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/supersis03/Projects/Dextera/dextera-project/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/** @format */import React,{Fragment,useState,useEffect}from\"react\";import axios from\"axios\";import{Button,Box,List,ListItem,ListItemText,Typography,Dialog,DialogActions,DialogContent,DialogTitle,DialogContentText,TextField}from\"@mui/material\";import ClearIcon from\"@mui/icons-material/Clear\";import ActionAlerts from\"../../utils/ActionAlerts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CONFIG={headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\"}};var Classification=function Classification(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),classification=_useState2[0],setClassification=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),status=_useState8[0],setStatus=_useState8[1];var _useState9=useState({name:\"\"}),_useState10=_slicedToArray(_useState9,2),formData=_useState10[0],setFormData=_useState10[1];var name=formData.name;var _onChange=function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),open=_useState12[0],setOpen=_useState12[1];var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var FetchData=function FetchData(){axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/classification/\"),CONFIG).then(function(res){console.log(res.data);setLoading(false);setStatus(res.statusText);setClassification(res.data);}).catch(function(err){console.log(err);setLoading(false);setError(err.message);});};useEffect(function(){FetchData();},[]);var handleDelete=function handleDelete(id){axios.delete(\"\".concat(process.env.REACT_APP_API_URL,\"/api/classification/\").concat(id,\"/\"),CONFIG).then(function(res){FetchData();return/*#__PURE__*/_jsx(ActionAlerts,{value:{status:res.statusText,message:\"Success\"}});});};var handleSubmit=function handleSubmit(e){e.preventDefault();var body=JSON.stringify({name:name});axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/classification/\"),body,CONFIG).then(function(res){FetchData();return/*#__PURE__*/_jsx(ActionAlerts,{value:{status:res.statusText,message:\"Success\"}});}).catch(function(err){FetchData();return/*#__PURE__*/_jsx(ActionAlerts,{value:{status:err.statusText,message:\"Success\"}});});};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleClickOpen,fullWidth:true,sx:{borderRadius:\"0.5rem\"},children:\"+ New Classification\"}),/*#__PURE__*/_jsxs(Dialog,{component:\"form\",Validate:true,onSubmit:function onSubmit(e){return handleSubmit(e);},open:open,onClose:handleClose,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title\",children:\"Add New Classification\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,size:\"small\",margin:\"normal\",variant:\"outlined\",name:\"name\",label:\"Classification Name\",type:\"text\",value:name,onChange:function onChange(e){return _onChange(e);},id:\"name\",autoComplete:\"name\"})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",autoFocus:true,children:\"Add\"})]})]}),!loading?classification.map(function(data){return/*#__PURE__*/_jsx(Box,{mt:1,children:/*#__PURE__*/_jsx(List,{children:/*#__PURE__*/_jsxs(ListItem,{disablePadding:true,children:[/*#__PURE__*/_jsx(ListItemText,{children:data.name}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",value:data.id,onClick:function onClick(){return handleDelete(data.id);},sx:{borderRadius:\"0.5rem\",float:\"right\"},children:/*#__PURE__*/_jsx(ClearIcon,{})})]})})});}):/*#__PURE__*/_jsx(Typography,{children:\"Loading ...\"})]});};export default Classification;","map":{"version":3,"sources":["/home/supersis03/Projects/Dextera/dextera-project/frontend/src/components/Category/Classification.jsx"],"names":["React","Fragment","useState","useEffect","axios","Button","Box","List","ListItem","ListItemText","Typography","Dialog","DialogActions","DialogContent","DialogTitle","DialogContentText","TextField","ClearIcon","ActionAlerts","CONFIG","headers","Accept","Classification","classification","setClassification","loading","setLoading","error","setError","status","setStatus","name","formData","setFormData","onChange","e","target","value","open","setOpen","handleClickOpen","handleClose","FetchData","get","process","env","REACT_APP_API_URL","then","res","console","log","data","statusText","catch","err","message","handleDelete","id","delete","handleSubmit","preventDefault","body","JSON","stringify","post","borderRadius","map","float"],"mappings":"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","sourcesContent":["/** @format */\n\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport {\n  Button,\n  Box,\n  List,\n  ListItem,\n  ListItemText,\n  Typography,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  DialogContentText,\n  TextField,\n} from \"@mui/material\";\n\nimport ClearIcon from \"@mui/icons-material/Clear\";\nimport ActionAlerts from \"../../utils/ActionAlerts\";\n\nconst CONFIG = {\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Accept: \"application/json\",\n  },\n};\n\nconst Classification = () => {\n  const [classification, setClassification] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [status, setStatus] = useState(\"\");\n  const [formData, setFormData] = useState({\n    name: \"\",\n  });\n\n  const { name } = formData;\n\n  const onChange = (e) =>\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const FetchData = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/classification/`, CONFIG)\n      .then((res) => {\n        console.log(res.data);\n        setLoading(false);\n        setStatus(res.statusText);\n        setClassification(res.data);\n      })\n      .catch((err) => {\n        console.log(err);\n        setLoading(false);\n        setError(err.message);\n      });\n  };\n  useEffect(() => {\n    FetchData();\n  }, []);\n  const handleDelete = (id) => {\n    axios\n      .delete(\n        `${process.env.REACT_APP_API_URL}/api/classification/${id}/`,\n        CONFIG,\n      )\n      .then((res) => {\n        FetchData();\n        return (\n          <ActionAlerts\n            value={{ status: res.statusText, message: \"Success\" }}\n          />\n        );\n      });\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const body = JSON.stringify({ name });\n    axios\n      .post(\n        `${process.env.REACT_APP_API_URL}/api/classification/`,\n        body,\n        CONFIG,\n      )\n      .then((res) => {\n        FetchData();\n        return (\n          <ActionAlerts\n            value={{ status: res.statusText, message: \"Success\" }}\n          />\n        );\n      })\n      .catch((err) => {\n        FetchData();\n        return (\n          <ActionAlerts\n            value={{ status: err.statusText, message: \"Success\" }}\n          />\n        );\n      });\n  };\n  return (\n    <Fragment>\n      <Button\n        variant=\"contained\"\n        onClick={handleClickOpen}\n        fullWidth\n        sx={{\n          borderRadius: \"0.5rem\",\n        }}\n      >\n        + New Classification\n      </Button>\n      <Dialog\n        component=\"form\"\n        Validate\n        onSubmit={(e) => handleSubmit(e)}\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          {\"Add New Classification\"}\n        </DialogTitle>\n        <DialogContent>\n          <TextField\n            required\n            fullWidth\n            size=\"small\"\n            margin=\"normal\"\n            variant=\"outlined\"\n            name=\"name\"\n            label=\"Classification Name\"\n            type=\"text\"\n            value={name}\n            onChange={(e) => onChange(e)}\n            id=\"name\"\n            autoComplete=\"name\"\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose}>Close</Button>\n          <Button type=\"submit\" autoFocus>\n            Add\n          </Button>\n        </DialogActions>\n      </Dialog>\n      {!loading ? (\n        classification.map((data) => (\n          <Box mt={1}>\n            <List>\n              <ListItem disablePadding>\n                <ListItemText>{data.name}</ListItemText>\n                <Button\n                  variant=\"contained\"\n                  value={data.id}\n                  onClick={() => handleDelete(data.id)}\n                  sx={{\n                    borderRadius: \"0.5rem\",\n                    float: \"right\",\n                  }}\n                >\n                  <ClearIcon />\n                </Button>\n              </ListItem>\n            </List>\n          </Box>\n        ))\n      ) : (\n        <Typography>Loading ...</Typography>\n      )}\n    </Fragment>\n  );\n};\n\nexport default Classification;\n"]},"metadata":{},"sourceType":"module"}